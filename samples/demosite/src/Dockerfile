
FROM maven:3-openjdk-11-slim as builder

ENV PORT 8080

ARG GOOGLE_CLOUD_PROJECT
ENV GOOGLE_CLOUD_PROJECT=${GOOGLE_CLOUD_PROJECT}

ARG SITE_KEY
ENV SITE_KEY=${SITE_KEY}

ARG CHECKBOX_SITE_KEY
ENV CHECKBOX_SITE_KEY=${CHECKBOX_SITE_KEY}

# Copy local code to the container image.
ENV APP_HOME /src
WORKDIR $APP_HOME
COPY . ./

RUN mvn clean install